<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      body {
        margin: 0;
      }

      body div,
      footer {
        padding: 1rem;
      }

      footer {
        padding: 1rem;
        background-color: black;
        color: white;
      }

      .myHeading {
        color: #ff00d6;
      }
    </style>
  </head>

  <body>
    <div>
      <h1>Questo è il titolo della pagina</h1>
      <button onclick="makeItClickable()">Cliccami</button> 
      <h2>Questo è il sottotitolo della pagina</h2>
    </div>

    <div>
      <hr />

      <ul id="firstList">
        <li>1st</li>
        <li>2nd</li>
        <li>3rd</li>
      </ul>

      <ul id="secondList">
        <li>1st</li>
        <li>2nd</li>
        <li>3rd</li>
      </ul>

      <a href="https://epicode.com/it/">Questo link porta al sito di Epicode</a>

      <div>
        <p>Questo testo è un placeholder per gli esercizi</p>
      </div>
    </div>

    <div>
      <p>Anche questo testo è per gli esercizi</p>
      <h2 id="changeMyColor" style="color: #ff00d6">
        Apri questa pagina con VSCode per scoprire gli esercizi
      </h2>
    </div>

    <div id="tableArea"></div>

    <footer>
      <h3>
        DOM Manipulation is super
        <a
          href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents"
          >AWESOME!</a
        >
      </h3>
    </footer>
    <script>
      /* ESERCIZIO 1
       Scrivi una funzione per cambiare il titolo della pagina in qualcos'altro
       h1
    */
      const changeTitle = function () {
        let title = document.querySelector("h1");
        title.innerHTML = "Ho cambiato il titolo";
      }
      changeTitle();

      /* ESERCIZIO 2
       Scrivi una funzione per aggiungere al titolo della pagina una classe "myHeading"
    */

      const addClassToTitle = function () {
        let titleClass = document.querySelector("h1");
        titleClass.classList.add("myHeading");
      }
      addClassToTitle();

      /* ESERCIZIO 3
       Scrivi una funzione che cambi il testo dei p figli di un div
       Argomento di querySelector o querySelectorAll accetta sintassi di CSS
      */

      const changePcontent = function () {
        let paragraph = document.querySelectorAll("div p")
        paragraph.forEach(paragraph => {
          paragraph.innerHTML = "Change P content";
        })
      }
      changePcontent();

      /* ESERCIZIO 4
       Scrivi una funzione che cambi la proprietà href di ogni link (tranne quello nel footer) con il valore https://www.google.com
       Argomento di querySelector (a:not(footer a))
      */

      const changeUrls = function () {
        let links = document.querySelectorAll("a:not(footer a)");        // seleziono tutti i link tranne footer
        links.forEach(link => {                                          
          link.setAttribute("href", "https://www.google.com");           // applico un nuovo indirizzo ad ogni link
        })
      }
      changeUrls();

      /* ESERCIZIO 5
       Scrivi una funzione che aggiunga un nuovo elemento lista alla seconda lista non ordinata
       Selezionare la seconda lista createElement, appendChild
    */

      const addToTheSecond = function () {
        let list = document.getElementsByTagName("ul")[1];  // creo una variabile che trova la seconda lista non ordinata
        let newItem = document.createElement("li");         // creo un nuovo elemento <li> chiamato newItem
        newItem.textContent = "4th";                        // all'interno di newItem aggiungo il suo contenuto "4th"
        list.appendChild(newItem);                          // aggiungo l'elemento newItem alla lista
      }
      addToTheSecond();

      /* ESERCIZIO 6
       Scrivi una funzione che aggiunga un paragrafo al primo div
       sempre selettore css dell'argomento di querySelectorAll ('div')[0] -> solo il primo div // querySelector NON HA BISOGNO DI [0] (seleziona giá il primo elemento)
    */

      const addParagraph = function () {
        let div = document.querySelector("div");          // seleziono il primo div
        let paragraph = document.createElement("p");      // creo un elemento p chiamato "paragraph"
        paragraph.textContent = "I made a paragraph";     // inserisco il contenuto dell'elemento p appena creato
        div.appendChild(paragraph);                       // aggiungo l'elemento p al div selezionato
      }
      addParagraph();

      /* ESERCIZIO 7
       Scrivi una funzione che faccia scomparire la prima lista non ordinata
       seleziono la lista -> remove
    */

      const hideFirstUl = function () {
        let list = document.querySelector("ul");    // seleziono la prima lista non ordinata
        list.remove();                              // la rimuovo
      }
      hideFirstUl();

      /* ESERCIZIO 8 
       Scrivi una funzione che renda verde il background di ogni lista non ordinata
       o aggiungo una classe css o aggiungo con style. il background color
      */

      const paintItGreen = function () {
        let list = document.querySelectorAll("ul");       // seleziono tutte le liste non ordinate
        for(let i=0; i < list.length; i++) {              // creo un loop che cicla ogni lista nel documento
          list[i].style.backgroundColor = "green";         // per ogni lista che viene ciclata applico un background verde
        }
      }
      paintItGreen();

      /* ESERCIZIO 9
       Scrivi una funzione che rimuova l'ultima lettera dall'h1 ogni volta che l'utente lo clicca
       funzione onclick -> seleziona ultima lettera e la elimina
      */
      // creo un bottone sotto h1 e lo associo a questa funzione
      const makeItClickable = function () {
        let title = document.querySelector("h1");        // seleziono h1
        let currentText = title.innerHTML                // ottengo il testo di h1, inoltre lo utilizzo come testo corrente
        let newText = currentText.slice(0, -1);          // creo un nuovo elemento newText, rimuovo l'ultima lettera di currentText
        title.innerHTML = newText;                       // rendo newText il nuovo titolo h1
      }

      /* ESERCIZIO 10
       Crea una funzione che, al click sul footer, riveli l'URL del link interno come contenuto di un alert()
       stampare in alert -> l'attributo che leggo
      */

      const revealFooterLink = function () {
        const footer = document.querySelector ("footer");
        footer.style.cursor = "pointer"
        footer.onclick = function() {
          const link = document.querySelector("footer a");
          const URL = link.getAttribute("href");
          alert(URL);
        }
        revealFooterLink();


      /* ESERCIZIO 11
       Crea una funzione che crei una tabella nell'elemento con id "tableArea". 
       La tabella avrà 5 elementi e questa struttura: immagine, nome prodotto, quantità, prezzo
       creo tabella (createElement etc) e popolo con appendChild
    */

      const generateTable = function () {
        let tableArea = document.getElementById("tableArea");             // Trovo l'elemento tableArea
        let elementTable = document.createElement("table");               // creo la tabella
        // Creo l'intestazione della tabella
        let tableHead = elementTable.createTHead();                       // creo la testa della tabella <thead>
        let headRow = tableHead.insertRow(0);                             // aggiungo una riga <tr>
        headRow.innerHTML = "<th>Immagine</th><th>Nome del prodotto</th><th>Quantitá</th><th>Prezzo</th>";  // aggiungo i contenuti <th>
        // Creo i dati della tabella 
        let tableBody = elementTable.createTBody();                       // creo il corpo della tabella <tbody>
        let dataRow = tableBody.insertRow(0);                             // aggiungo una riga <tr>
        dataRow.innerHTML = "<td><img src='url'></td><td>Nome prodotto</td><td>Quantitá</td><td>Prezzo</td>";  // aggiungo i contenuti <td>

        tableArea.appendChild(elementTable);                              // aggiungo la tabella elementTable all'elemento div tableArea
      }
      generateTable();

      /* ESERCIZIO 12
       Crea una funzione che aggiunga una riga alla tabella precedentemente creata e fornisca i dati necessari come parametri
       Aggiungo una riga alla tabella e in quella aggiungo dei valori
    */

      const addRow = function () {
        let table = document.querySelector("table");                   // trovo l'elemento tabella
        let tableBody = table.querySelector("tbody");                  // trovo il corpo della tabella
        let newRow = tableBody.insertRow();                            // creo una nuova riga <tr> nel corpo della tabella
        newRow.innerHTML = "<td><img src='url'></td><td>Nome prodotto</td><td>Quantitá</td><td>Prezzo</td>";   // aggiungo i nuovi contenuti

          table.appendChild(newRow);
      }
      addRow();

      /* ESERCIZIO 14
      Crea una funzione che nasconda le immagini della tabella quando eseguita
      querySelectorALl images, forEach -> .style display none
    */

      const hideAllImages = function () {
        

      /* EXTRA ESERCIZIO 15
      Crea una funzione che cambi il colore del h2 con id "changeMyColor" con un colore random ad ogni click ricevuto
      fare un colore random -> red, green, blue -> genero per ciascuno un numero da 0 a 255 -> rgb{red}{green}{blue}
    */

      const changeColorWithRandom = function () {}

      /* EXTRA ESERCIZIO 16
      Crea una funzione che elimini le vocali da ogni elemento testuale della pagina (puoi aiutarti con i nuovi metodi degli array di ES6)
      selezionare tutti i tag e per ciascuno ad esempio con un filter tolgo (devono essere !==) elenco delle vocali
    */

      const deleteVowels = function () {}
    </script>
  </body>
</html>
